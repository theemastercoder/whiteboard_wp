function calculateDifferences(step1, step2) {
    if (step1.length !== step2.length) {
        console.error("Step arrays do not have the same length!");
        return;
    }

    const differences = [];

    step1.forEach((player1, index) => {
        const player2 = step2[index];

        // Parse and validate position data
        const top1 = parseFloat(player1.top);
        const left1 = parseFloat(player1.left);
        const top2 = parseFloat(player2.top);
        const left2 = parseFloat(player2.left);

        if (isNaN(top1) || isNaN(left1) || isNaN(top2) || isNaN(left2)) {
            console.error("Invalid position data for player:", player1.player);
            return; // Exit the loop if invalid data is found
        }

        const topDiff = (top2 - top1).toFixed(2);
        const leftDiff = (left2 - left1).toFixed(2);

        differences.push({
            player: player1.player,
            topDiff,
            leftDiff
        });
    });

    return differences;
}

if (!steps[0] || !steps[1]) {
    console.error("Steps data is not available");
} else {
    const difference = calculateDifferences(steps[0], steps[1]);
    displayOutput(difference);
}
